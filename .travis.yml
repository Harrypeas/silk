sudo: false
language: scala
jdk:
  - openjdk8
scala:
  - 2.11.12

notifications:
  email:
    recipients:
      - markus.freudenberg@eccenca.com
    on_success: change
    on_failure: change

cache:
  directories:
  - $HOME/.sbt
  - $HOME/.ivy2/cache
  
before_cache:
  # Cleanup the cached directories to avoid unnecessary cache updates
  - find $HOME/.ivy2/cache -name "ivydata-*.properties" -print -delete
  - find $HOME/.sbt        -name "*.lock"               -print -delete

script:
  - echo "skipping tests"

after_success:
  - sbt ++$TRAVIS_SCALA_VERSION "project workbench" universal:package-zip-tarball

deploy:
  provider: releases
  api_key:
    secure: JYr9YnA5HrW0Lnso5Fs0R2gln33u0zB1MputrLxVy43AgjDSnpnV1B0JWUpARTz//x4XtkwF5aqrVjKWUu+7e1f4SV1Vuh2allogp7XDFoKcC2H9cB3kG4PCo8o2FGU1UkieNzYykwuCDGST2tu4HpcbE4FnQCd7p5shUspG/2olau0z37m0ZVlntMuy+SPhIQ/jdaohdo/6zEHnVajTOEZUzoDmgQJjjntmbt1OqHASGAJ1vt77PfI3u6+lM1IHUlVn4ZlZnc94dXrcMfFqYhOMejMW+I6RbX5qyDC5i0BqfMpuGuv6LsylB4n+O5GzKl0Lm9E8b6vOS2pHzx/VYn6OPcB+8sxihZ3gU/dFQ4jQc3mmJT0c1d/x4MjSKRNy4Ry/tvyFIAvDneCRWvOcZ0ybY47W1Ug5b5aUt32eujjVRSQ9jlCbPY9ZVU6tnfsr7G/vPecrPShM5evfASvv5de7jIWJVV2YP4wles/+D3K1MyssKvUpX2qO0Je6U3IXPHic+u528zTfmQ+uVov0ufHYiebPQE5ly6ygx9ZWOy27EbRlkM0cO8RX3Iu1Nmm+D00uqY5/AgVJodOu0QR0vppP9hYTtxu8+CYi2h+1+9592F+Od4Fi5rO+M1MvIkJPaHRET0vaUdDm76gRItqjLNpCsMC2ueieAMxD69p+nFA=
  file_glob: true
  file: silk-workbench/target/universal/silk-workbench-*
  on:
    repo: silk-framework/silk
    tags: true
  skip_cleanup: true
  draft: false
