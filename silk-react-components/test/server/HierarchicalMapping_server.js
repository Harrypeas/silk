import chaiEnzyme from "chai-enzyme";
import chai from "chai";
import Enzyme from "enzyme/build/index";
import Adapter from "enzyme-adapter-react-15/build/index";
import nock from "nock";

chai.use(chaiEnzyme());
Enzyme.configure({ adapter: new Adapter() });

nock('http://docker.local')
    .get('/dataintegration/transform/tasks/cmem/transform_datasetresource_1537869610185_orgmap_xml/rules')
    .times(10)
    .reply(200, () => {
        return {"type":"root","id":"root","rules":{"uriRule":null,"typeRules":[{"type":"type","id":"type","typeUri":"<https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/Auditor>","metadata":{"label":"","description":""}}],"propertyRules":[{"type":"object","id":"object","sourcePath":"dept/manager","mappingTarget":{"uri":"<https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/elects>","valueType":{"nodeType":"UriValueType"},"isBackwardProperty":false,"isAttribute":false},"rules":{"uriRule":null,"typeRules":[],"propertyRules":[]},"metadata":{"label":"","description":""}}]},"metadata":{"label":"","description":""}};
    });

nock('http://docker.local')
    .get('/dataintegration/transform/tasks/cmem/transform_datasetresource_1537869610185_orgmap_xml/rule/object/completions/targetProperties?term=&maxResults=30')
    .times(1)
    .reply(200, () => {
        return [{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/elects","label":"elects","description":"chooses someone to hold office or some other position by voting","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/Publishers/publishes","label":"publishes","description":"prepares and issues material for public consumption","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/nominates","label":"nominates","description":"appoints or proposes for appointment to an office or place","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/OwnershipParties/guarantees","label":"guarantees","description":"provides a formal assurance or promise, esp. that certain conditions shall be fulfilled relating to a product, service, or transaction","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/hasEquity","label":"has equity","description":"the formally constituted organization has some form of stockholders equity","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/OwnershipParties/hasInvestor","label":"has investor","description":"links an investment interest in something (e.g., a formal business organization) to the party that holds or owns it, in whole or in part","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/hasSubUnit","label":"has sub-unit","description":"The company has a branch, which is part of that company. This may be in another country or in the country in which that company is registered (incorporated).","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/Publishers/hasPublisher","label":"has publisher","description":"some person or organization whose role it has been to publish this information","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/CorporateBodies/issuesEquity","label":"issues equity","description":"relates a stock corporation to the equity (in the form of shares) it issues through incorporation and subsequent corporate actions","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/isElectedBy","label":"is elected by","description":"identifies an official or government chosen to hold office by voting","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/hasSignatory","label":"has signatory","description":"has a party which is authorized to sign contracts on behalf of the entity","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateControl/hasAffiliate","label":"has affiliate","description":"has a party which directly, or indirectly through one or more intermediaries, controls, or is controlled by, or is under common control with the company","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/hasObjective","label":"has objective","description":"relates an agent to a specific objective (result) that the agent aims to achieve within a time frame and with available resources","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateControl/hasSubsidiary","label":"has subsidiary","description":"relates a company to one of its subsidiaries, that is an affiliae controlled by the company directly, or indirectly through one or more intermediaries","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/isSubUnitOf","label":"is sub-unit of","description":"The organization is a sub-unit of a formally constituted organization and has the role and function of being a formal part of that organization, such as a branch.","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/ControlParties/hasTotalOwner","label":"has total owner","description":"indicates the party that wholly controls the organization, i.e., one that owns 100 percent interest","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/isOrganizedIn","label":"is organized in","description":"indicates the juridiction whose laws a legal entity is organized under","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/OwnershipParties/holdsEquityIn","label":"holds equity in","description":"links a party to some equity it holds","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/Publishers/isPublishedBy","label":"is published by","description":"identifies the independent party (i.e., the individual or organization) that disseminates the material","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/hasJurisdiction","label":"has jurisdiction","description":"relates a polity or government entity to one or more jurisdictions, over which it has some level of legal authority","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/hasVestedInIt","label":"has vested in it","description":"indicates the delegated legal authority that is vested in the controlling party","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/isRecognizedIn","label":"is recognized in","description":"indicates the jurisdiction in which a legal person is authorized to conduct business or an agreement may be acknowledged and possibly enforceable","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/OwnershipParties/isEquityHeldBy","label":"is equity held by","description":"links some equity to the party that holds it","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/CorporateBodies/isConstitutedBy","label":"is constituted by","description":"the instrument by which an entity is incorporated","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/isRepresentedBy","label":"is represented by","description":"relates a system of governance to its chosen representatives","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Partnerships/Partnerships/dateTradingFrom","label":"date trading from","description":"date on which the partnership started trading","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Corporations/Corporations/hasIssuedCapital","label":"has issued capital","description":"The total of a corporation's shares that are held by shareholders. A corporation can, at any time, issue new shares up to the full amount of authorized share capital.","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateControl/isWhollyOwnedBy","label":"is wholly owned by","description":"relates a company to an organization that has 100 percent ownership and control over it","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/hasResponsibility","label":"has responsibility","description":"identifies a particular burden of obligation upon one who is responsible","category":"Vocabulary Properties","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/isJurisdictionOf","label":"is jurisdiction of","description":"relates a jurisdiction to a polity or other government entity or court that has some level of legal authority over it","category":"Vocabulary Properties","isCompletion":true}];
    })

nock('http://docker.local/dataintegration/transform/tasks/cmem/transform_datasetresource_1537869610185_orgmap_xml/rule/object/completions/targetTypes')
    .get('term=&maxResults=30')
    .times(1)
    .reply(200, () => {
        return [{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/Bylaw","label":"bylaw","description":"Corporate bylaws are typically called Articles of Association in the United Kingdom, or Articles of Incorporation in the United States. In government usage, the term bylaws is used to describe laws, orders, regulations, rules, etc., made by a ministry, local authority (a municipality, for example), or public corporation, in accordance with the powers conferred by or delegated under a statue (called the parent act).","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Trusts/Trusts/Trust","label":"trust","description":"A fiduciary relationship in which one party, known as a trustor, gives another party, the trustee, the right to hold title to property or assets for the benefit of a third party, the beneficiary.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/Polity","label":"polity","description":"a legal person that is a supranational entity, crown, state, or subordinate civil authority, such as a province, prefecture, county, municipality, city, or district representing the people of that entity","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/Branch","label":"branch","description":"A part of a business organization or company, identified as a branch.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/Auditor","label":"auditor","description":"an individual qualified (at the state level) to conduct audits. An auditor may be an internal auditor (an individual whose primary job function is to audit his or her own company) or an external auditor (an individual from outside the company, who typically is employed by an auditing firm who handles many different clients).","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Partnerships/Partnerships/Partner","label":"partner","description":"This term is not referred to directly in specific kinds of partnership. Nearly all partnerships have General Partners, while forms of (mostly legally incorporated) partnerships have in addition Limited Partners. This term is the common ancestor of both.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Trusts/Trusts/Trustee","label":"trustee","description":"An individual or organization which holds or manages and invests assets for the benefit of another. The trustee is legally obliged to make all trust-related decisions with the beneficiary's interests in mind, and may be liable for damages in the event of not doing so. Trustees may be entitled to a payment for their services, if specified in the trust deed. In the specific case of the bond market, a trustee administers a bond issue for a borrower, and ensures that the issuer meets all the terms and conditions associated with the borrowing.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Trusts/Trusts/Trustor","label":"trustor","description":"Entity that establishes a trust and place property under the protection and management of one or more trustees for the immediate or eventual benefit of ascertainable one or more beneficiaries. It is not always necessary to identify the trustor who may be also be a trustee and/or one of the beneficiaries. In legal parlance, a trustor is called a settlor in the UK and a grantor in the US, whereas in common usage he or she may also be called a creator, donor, initiator, owner, or Trust maker.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/FunctionalEntities/Business","label":"business","description":"An organization or economic system where goods and services are exchanged for one another or for money. Every business requires some form of investment and enough customers to whom its output can be sold on a consistent basis in order to make a profit. Businesses can be privately owned, not-for-profit or state-owned. An example of a corporate business is PepsiCo, while a mom-and-pop catering business is a private enterprise.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/FunctionalEntities/Commerce","label":"commerce","description":"the commercial activity of buying and selling goods","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/FunctionalEntities/Merchant","label":"merchant","description":"a business entity engaged in a trading activity","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/FormalBusinessOrganizations/Division","label":"division","description":"a part of a company, such as a line of business, that may have separate accounting or reporting requirements","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/ControlParties/Receiver","label":"receiver","description":"A party appointed by some court for the purposes of winding up the affairs of some entity which is no longer solvent.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/OwnershipParties/Investor","label":"investor","description":"a party that owns some stake in some organization by way of investment","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/Publishers/Publisher","label":"publisher","description":"a party responsible for the printing or distribution of digital or printed information","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/Judiciary","label":"judiciary","description":"a branch of government that comprises the system of courts that interprets and applies the law in the name of the supranational, national, federal, or regional government, depending on its jurisdiction","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LEIEntities/Sovereign","label":"sovereign","description":"the legal person corresponding to a state or country","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/Signatory","label":"signatory","description":"Some agent who has the capacity to sign contracts on the part of some legal person","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateControl/Affiliate","label":"affiliate","description":"an affiliate of, or a person affiliated with, a specific person is a person that directly, or indirectly through one or more intermediaries, controls, or is controlled by, or is under common control with, the person specified","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/Executive","label":"executive","description":"person appointed and given the responsibility to manage the affairs of an organization and the authority to make decisions within specified boundaries","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/Government","label":"government","description":"the system by which a state or community is controlled","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateControl/Subsidiary","label":"subsidiary","description":null,"category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/FunctionalEntities/Publishers/Publication","label":"publication","description":"anything made public by print (such as a newspaper, magazine, pamphlet, letter, telegram, via computer modem or program, or in a poster, brochure or pamphlet), orally, or by broadcast (radio, television)","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/Legislature","label":"legislature","description":"the law-making body of a political unit, usually a national government, that has power to enact, amend, and repeal public policy","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/GovernmentEntities/TribalArea","label":"tribal area","description":"a designation for an area of land managed by a group of indigenous people (tribe) rather than by the sovereign state or regional governmental entity in which the tribal area is geographically located","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/CorporateBodies/Corporation","label":"corporation","description":"a formal organization treated as an entity - an artificial person or legal entity distinct from its owners - created by or under the authority of the laws of a state or nation","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/ControlParties/TotalOwner","label":"total owner","description":"Entity having 100 percent ownership in the entity so owned.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/CorporateOwnership/Shareholder","label":"shareholder","description":"An individual, group, or organization that owns one or more shares in a company, and in whose name the share certificate is issued.  It is legal for a company to have only one shareholder. Also called (in the US) stockholder.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/OwnershipAndControl/Executives/CompanyLaw","label":"company law","description":"Legislation under which the formation, registration or incorporation, governance, and dissolution of a firm is administered and controlled.","category":"Vocabulary Types","isCompletion":true},{"value":"https://spec.edmcouncil.org/fibo/ontology/BE/Partnerships/Partnerships/Partnership","label":"partnership","description":"venture in which two or more legal entities carry out some business activities under a common identity","category":"Vocabulary Types","isCompletion":true}];
    })

nock('http://docker.local/dataintegration/transform/tasks/cmem/transform_datasetresource_1537869610185_orgmap_xml/rule/root/completions/sourcePaths')
    .get('term=&maxResults=30')
    .times(1)
    .reply(200, () => {
        return [{"value":"dept","label":"dept","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/@id","label":"@id","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/@name","label":"@name","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee","label":"employee","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee/address","label":"address","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee/email","label":"email","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee/name","label":"name","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employee/productExpert","label":"productExpert","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees","label":"employees","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee","label":"employee","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee/address","label":"address","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee/email","label":"email","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee/name","label":"name","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/employee/productExpert","label":"productExpert","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/employees/productExpert","label":"productExpert","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/manager","label":"manager","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/manager/address","label":"address","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/manager/email","label":"email","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/manager/name","label":"name","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/manager/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true},{"value":"dept/productExpert","label":"productExpert","description":null,"category":"Source Paths","isCompletion":true},{"value":"employee","label":"employee","description":null,"category":"Source Paths","isCompletion":true},{"value":"employee/address","label":"address","description":null,"category":"Source Paths","isCompletion":true},{"value":"employee/email","label":"email","description":null,"category":"Source Paths","isCompletion":true},{"value":"employee/name","label":"name","description":null,"category":"Source Paths","isCompletion":true},{"value":"employee/phone","label":"phone","description":null,"category":"Source Paths","isCompletion":true}];
    })



